[package]
name = "syno-photo-frame"
version = "0.1.0"
edition = "2021"

# See more keys and their definitions at https://doc.rust-lang.org/cargo/reference/manifest.html

[dependencies]
bytes = "1.*"
clap = { version = "4.*", features = ["derive", "wrap_help"] }
image = { version = "0.24.*", default-features = false, features = ["jpeg"] }
lazy_static = "1.*"
regex = "1.*"
reqwest = { version = "0.11.*", features = ["blocking", "cookies", "json"] }
sdl2 = "0.35.*"
serde = { version = "1.*", features = ["derive"] }

# [target.aarch64-unknown-linux-gnu.dependencies]
# # Base docker image used when cross-compiling for aarch64 is Ubuntu based, and has libssl-dev 1.0 available. Raspbian OS
# # is pure Debian based and uses libssl-dev 1.1. Enabling native-tls-vendored embeds statically linked version of the
# # library, so cross-compiled binary executes on Raspbian OS.
# reqwest = { version = "0.11.*", features = ["blocking", "cookies", "json", "native-tls-vendored"] }
# sdl2 = { version="0.35.*", features = ["bundled", "static-link"]}

[package.metadata.cross.target.aarch64-unknown-linux-gnu]
pre-build = ["dpkg --add-architecture arm64 && apt-get update && apt-get install --assume-yes libsdl2-dev:arm64"]

[dev-dependencies]
mockall = "0.11.*"
